<!DOCTYPE html>
<html lang="en-gb">

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.26" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Ben Goodstein">
    <meta property="og:url" content="https://fuzzylogiq.github.io/post/icloud-desktop-and-documents/">

    <title>Problems with disabling the sync of Desktop and Documents to iCloud - fuzzylogiq&#39;s blog</title>
    <meta property="og:title" content="Problems with disabling the sync of Desktop and Documents to iCloud - fuzzylogiq&#39;s blog">
    <meta property="og:type" content="article">
    <meta name="description" content="">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Arvo:400,700">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/journal.css">
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="fuzzylogiq&#39;s blog">

  </head>

  <body>
    <div class="container">

      <nav class="site-nav">
        <a href="https://fuzzylogiq.github.io/">Index</a>
      </nav>


  <article class="post">
    <header class="post-header">
      <h1 class="post-title">Problems with disabling the sync of Desktop and Documents to iCloud</h1>
      <time class="post-date" datetime="2017-08-03 16:17:13 BST">03 Aug 2017</time>
    </header>

    <p>In 10.12 Apple introduced the ability for users to sync their Documents and Desktop folder with iCloud so that they would be the same on any computer they were using. In 10.12.4 they gave us the ability to disable it (Rich Trouton has a very informative blog post on how to do so <a href="https://derflounder.wordpress.com/2017/03/27/disabling-icloud-desktop-and-documents-syncing/">here</a>.) You might think that setting the preference (<code>allowCloudDesktopAndDocuments=false</code> in <code>com.apple.applicationaccess</code>) means you&rsquo;d be safe from users hiving off all their local data from those folders to the cloud.</p>

<p>You&rsquo;d be wrong.</p>

<p>There&rsquo;s a nasty bug in Apple&rsquo;s implementation of the preference that concerns the Storage Management dialog which comes up when the computer is low on disk space, and can also be reached through <code>About this Mac &gt; Storage &gt; Manage</code> or <code>System Information &gt; Window &gt; Storage Management</code>.
<img src="/img/storage_management.png" alt="Storage Management Dialog" />
Problematic is the Store in iCloud button in the Recommendations. If clicked it offers to store files from the Documents and Desktop folder in iCloud, regardless of the preference managed above.
<img src="/img/store_in_icloud.png" alt="Store in iCloud Popover" />
Eek. What makes it worse is it&rsquo;s then very tricky to stop and reverse as the iCloud Drive preference pane has the option safely greyed out. I&rsquo;ve filed a radar with Apple, and the Open Radar is <a href="https://openradar.appspot.com/33652807">here</a> if you want to dupe it.</p>


  </article>
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
      
      if (window.location.hostname == "localhost")
                return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'fuzzylogiq-github-io';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      <footer class="site-footer">
        <span itemscope itemtype="http://schema.org/Person">
          <link itemprop="url" href="https://fuzzylogiq.github.io/">
          <span itemprop="name">Ben Goodstein</span>

          ,
          <span itemprop="jobTitle">Technical Leader (Apple)</span> at
          <span itemprop="memberOf" itemscope itemtype="http://schema.org/Organization"><a itemprop="url" href="https://ox.ac.uk"><span itemprop="name">University of Oxford</span></a></span><br>

          <a itemprop="sameAs" href="https://github.com/fuzzylogiq" title="GitHub">GH</a>

          <a itemprop="sameAs" href="https://twitter.com/fuzzylogiq" title="Twitter">TW</a>

          
        </span>

        
      </footer>
    </div>

  <script src="/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>

